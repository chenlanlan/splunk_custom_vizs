<form script="autodiscover.js">
  <label>Hive Plot</label>
  <row>
    <panel>
      <html>
        <h2>Options</h2>
        <table class="table table-striped table-bordered">
          <tbody>
            <tr>
              <td>
                <b>Name</b>
              </td>
              <td>
                <b>Type</b>
              </td>
              <td>
                <b>Default</b>
              </td>
              <td>
                <b>Description</b>
              </td>
            </tr>
            <tr>
              <td>
                <code>managerid</code>
              </td>
              <td>string</td>
              <td>null</td>
              <td>The search manager bound to the chart.</td>
            </tr>
            <tr>
              <td>
                <code>src_field</code>
              </td>
              <td>string</td>
              <td>"src"</td>
              <td>The name of the source field.</td>
            </tr>
            <tr>
              <td>
                <code>dst_field</code>
              </td>
              <td>string</td>
              <td>"dst"</td>
              <td>The name of the destination field.</td>
            </tr>
            <tr>
              <td>
                <code>category_field</code>
              </td>
              <td>string</td>
              <td>"category"</td>
              <td>The name of the category field.</td>
            </tr>
          </tbody>
        </table>
      </html>
    </panel>
  </row>
  <row>
    <panel>
      <input type="dropdown" token="source" searchWhenChanged="true">
        <label>Source</label>
        <choice value="sample_hiveplot_flare.csv">Flare.json (original)</choice>
        <choice value="sample_hiveplot_minimal.csv">Minimal</choice>
        <choice value="sample_hiveplot_dev.csv">Dev</choice>
        <default>sample_hiveplot_flare.csv</default>
      </input>
      <html>
        <h2>Flare Import Sample (from sample_hiveplot_*.csv)</h2>
        <p id="info"></p>
        <div id="hiveplot_search" class="splunk-manager" data-require="splunkjs/mvc/searchmanager" data-options='{
          "search": {
            "type": "token_safe",
            "value": "| inputlookup $$source$$ | rex field=source \"\\w+\\.(?&lt;type&gt;\\w+)\""
          },
          "preview": true
        }'>
        </div>
        <div id="hiveplot" class="splunk-view" data-require="app/custom_vizs/hiveplot/hiveplot" data-options='{
          "managerid": "hiveplot_search",
          "src_field": "source",
          "dest_field": "target",
          "category_field": "type"
        }'>
        </div>
      </html>
    </panel>
  </row>
</form>