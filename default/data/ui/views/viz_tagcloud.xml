<form script="autodiscover.js">
  <label>Tag Cloud</label>
  <fieldset submitButton="false" autoRun="true">
    <input type="time" searchWhenChanged="true">
      <default>
        <earliest>-24h@h</earliest>
        <latest>now</latest>
      </default>
    </input>
  </fieldset>
  <row>
    <panel>
      <html>
        <h2>Options</h2>
        <table class="table table-striped table-bordered">
          <tbody>
            <tr>
              <td><b>Name</b></td>
              <td><b>Type</b></td>
              <td><b>Default</b></td>
              <td><b>Description</b></td>
            </tr>
            <tr>
              <td><code>managerid</code></td>
              <td>string</td>
              <td>null</td>
              <td>The search manager bound to the chart.</td>
            </tr>
            <tr>
              <td><code>labelField</code></td>
              <td>string</td>
              <td>null (defaults to all)</td>
              <td>The field for the label for the tags.</td>	
            </tr>
            <tr>
              <td><code>valueField</code></td>
              <td>string</td>
              <td>null</td>
              <td>The field for the size of the tags.</td>	
            </tr>
            <tr>
              <td><code>maxFontSize</code></td>
              <td>number</td>
              <td>38</td>
              <td>The maximum allowed font size for a tag.</td>	
            </tr>
            <tr>
              <td><code>minFontSize</code></td>
              <td>number</td>
              <td>8</td>
              <td>The minimum allowed font size for a tag.</td>	
            </tr>
          </tbody>
        </table>
      </html>
    </panel>
  </row>
  <row>
    <panel>
      <html>
        <h2>Top 100 Most Common Terms in an Ad-hoc Search Query</h2>
        <div id="tagcloud_search" class="splunk-manager" data-require="splunkjs/mvc/searchmanager" data-options='{
          "preview": true,
          "search": "index=_audit NOT REST: search=* | regex search_id=\"&apos;\\d+\\.\\d+&apos;\" | rex field=search max_match=0 \"(?&lt;terms&gt;\\w+)\" | top limit=100 terms | eval r=random() | sort r",
          "earliest_time": {
            "type": "token_safe",
            "value": "$$earliest$$"
          },
          "latest_time": {
            "type": "token_safe",
            "value": "$$latest$$"
          }
        }'>
        </div>
        <div id="tagcloud" class="splunk-view" data-require="app/custom_vizs/tagcloud/tagcloud" data-options='{
          "minFontSize": 14,
          "maxFontSize": 55,
          "managerid": "tagcloud_search",
          "valueField": "count",
          "labelField": "terms"
        }'>
        </div>
     </html>
    </panel>
  </row>
</form>