<form script="autodiscover.js">
  <label>Bubble Chart</label>
  <fieldset submitButton="false" autoRun="true">
    <input type="time" searchWhenChanged="true">
      <default>
        <earliest>-24h@h</earliest>
        <latest>now</latest>
      </default>
    </input>
  </fieldset>
    <row>
    <panel>
      <html>
        <h2>Options</h2>
        <table class="table table-striped table-bordered">
          <tbody>
            <tr>
              <td><b>Name</b></td>
              <td><b>Type</b></td>
              <td><b>Default</b></td>
              <td><b>Description</b></td>
            </tr>
            <tr>
              <td><code>managerid</code></td>
              <td>string</td>
              <td>null</td>
              <td>The search manager bound to the chart.</td>
            </tr>
            <tr>
              <td><code>height</code></td>
              <td>string</td>
              <td>null</td>
              <td>The height of the chart.</td>
            </tr>
            <tr>
              <td><code>width</code></td>
              <td>string</td>
              <td>null</td>
              <td>The width of the chart.</td>
            </tr>
            <tr>
              <td>valueField</td>
              <td>string</td>
              <td>null (defaults to all)</td>
              <td>The magnitude field in the data. Circles will be sized based on this field. If the field does not exist, circles will be uniform size.</td>	
            </tr>
            <tr>
              <td>labelField</td>
              <td>string</td>
              <td>null</td>
              <td>The field used for labeling circles.</td>	
            </tr>
            <tr>
              <td>categoryField</td>
              <td>string</td>
              <td>null</td>
              <td>The field used for grouping data.</td>	
            </tr>
            <tr>
              <td>formatLabel</td>
              <td>function</td>
              <td>"{name} {value}"</td>
              <td>A custom formatting function bubble labels. Takes each node name as an input and returns a formatted name.</td>	
            </tr>
            <tr>
              <td>formatTooltip</td>
              <td>function</td>
              <td>"{name}: {value}"</td>
              <td>A custom formatting function for path tooltips. Takes each node as an input and returns a formatted tooltip string.</td>	
            </tr>
          </tbody>
        </table>
      </html>
    </panel>
  </row>
  <row>
    <panel>
      <html>
        <h2>Bubble Chart of User Agent Keywords</h2>
        <div id="bubblechart_search"
             class="splunk-manager"
             data-require="splunkjs/mvc/searchmanager"
             data-options='{
                    "preview": true,
                    "search": "tag=web http_user_agent=* | rex field=http_user_agent max_match=0 \"(?&lt;words&gt;\\w+)\" | stats count by words source",
                    "earliest_time": {
                      "type": "token_safe",
                      "value": "$$earliest$$"
                    },
                    "latest_time": {
                      "type": "token_safe",
                      "value": "$$latest$$"
                    }
                }'>
        </div>
        <div id="bubblechart"
             class="splunk-view"
             data-require="app/dos_viz/bubblechart/bubblechart"
             data-options='{
                    "managerid": "bubblechart_search",
                    "nameField": "words",
                    "categoryField": "source",
                    "valueField": "count",
                    "height": 450
             }'>
        </div>
     </html>
    </panel>
  </row>
</form>